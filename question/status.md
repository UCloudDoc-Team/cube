# 运行状态

## 状态分类

容器组的运行状态与kubernetes中的pod运行状态一致，共有以下几种。

|状态|含义|
|:--|:--|
|Running|表示容器组正常运行。|
|Completed|表示容器组中的容器任务已经执行完成，执行任务结束的状态返回。|
|Error|表示容器组中部分容器运行不正常，正在重试容器启动。|
|ContainerCreating|容器创建中。|
|CreateContainerError|镜像中的执行命令或者创建时添加的命令在容器中执行失败。|
|CrashLoopBackOff|表示容器组启动成功后运行失败，组内部分或全部容器处于不健康的状态。|
|ErrImagePull|镜像拉取错误，正在进行重试。|
|ImagePullBackOff|表示使用的镜像仓库设置了密码或者镜像已经被删除，导致镜像拉取失败。|
|Terminating|表示容器正在结束当前执行程序优雅退出。|
|Pending|没有足够资源创建容器组。|

## 错误状态排查

### Error

容器组中容器运行不正常的一个中间状态，将会很快转为其他状态。

#### 处理方法

1. 查看error下一个状态，查找对应的处理方法。

### CreateContainerError

镜像中的执行命令或者创建时添加的命令在容器中执行失败。

#### 处理方法

1. 检查镜像中的执行命令是否正确。
2. 检查创建时添加的命令(command)是否正确，检查完成后重新创建。

### CrashLoopBackOff

容器中有部分容器启动成功后运行失败或者退出，常见得错误状态出现情况有：

1. 批处理任务容器镜像，在启动容器组时选择了重启策略为“总是”。
2. 多容器的容器组中，有部分容器无法正常运行或者退出。
3. 多容器的容器组中，有存在监听端口冲突的情况。

#### 处理方法

1. 检查是否为批处理任务容器镜像，如果是请选择重启策略为“从不”，可以正常返回，需重建。
2. 检查容器组中哪些容器没有正常运行，查看启动命令是否正确，需重建。
3. 查看是否为centos、busybox一类镜像，此类镜像由于没有固定进程启动，如是则需要设定启动命令，需重建。
4. 多容器的容器组中，修改已存在的端口冲突，需重建。

### ImagePullBackOff & ErrImagePull

使用的镜像仓库设置了密码或者镜像已经被删除，导致镜像拉取失败。

#### 处理方法

1. 检查是否将镜像仓库加密了，如果加密了仓库需要设置打开或者增加镜像拉取密钥，增加密钥需重建。
2. 检查是否将镜像删除了，如删除了，需要重新上传对应镜像和版本。

### Terminating

容器正在结束当前执行程序优雅退出。

#### 处理方法

1. 正常情况下等待一会会退出完成，如退出时间超过10分钟，请与我们客服进行联系。

### Pending

没有足够资源创建容器组。

#### 处理方法

1. 正常情况下不会存在Pending状态，如您遇到Pending状态超过5分钟，请与我们客服进行联系。